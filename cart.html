<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> Cart Page</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="image/logo_nuoc_hoa.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />

</head>

<body>
    <section id="header">
        <a href="#"><img src="image/logo_nuoc_hoa_TN.jpg" class="logo" alt=""></a>
        <div>
            <ul id="navbar">
                <li><a href="index.html">Home</a></li>
                <li><a href="shop.html">Shop</a></li>


                <li><a href="cart.html" class="active"><i class="fa fa-cart-arrow-down"></i></a></li>


            </ul>
        </div>
    </section>
    <section id="page-header">


        <h2 style="color: red;">#BUY NOW</h2>

        <p style="color: black;">You Only Live Once </p>

    </section>
    <section id="cart" class="section-p1">
        <table width=100% id="tablecart">
            <thead>
                <tr>
                    <td>Remove</td>
                    <td>Image</td>
                    <td>Product</td>
                    <td>Capacity</td>
                    <td>Quantity</td>
                    <td>Price</td>


                </tr>
            </thead>
            <tbody id="tbodycart">
                <tr>
                    <td><a onclick="removecart()" href="#"><i class="far fa-times-circle"></i></a></td>
                    <td><img src="image/nuoc_hoa_10_1.jpg" alt=""></td>
                    <td>𝐉𝐄𝐀𝐍 𝐏𝐀𝐔𝐋𝐆𝐀𝐔𝐋𝐓𝐈𝐄𝐑 𝐒𝐂𝐀𝐍𝐃𝐀𝐋 𝐄𝐃𝐏 10.1</td>
                    <td>$50</td>
                    <td>30ml</td>
                    <td><input type="number" value="1"></td>

                </tr>

            </tbody>
        </table>
    </section>
    <!-- <section id="cart-add" class="section-p1">
        <div id="coupon">
            <h3>Apply Coupon</h3>
            <div>
                <input type="text" placeholder="Enter Yout Coupon">
                <button class="normal">Apply</button>
            </div>

        </div> -->
    <div id="subtotal">
        <h3>Cart Totals</h3>
        <table>

            <tr>
                <td>Shipping</td>
                <td>Free</td>
            </tr>
            <tr>
                <td><strong>Total</strong></td>
                <td id="totalPriceCart1"><strong></strong></td>
            </tr>
        </table>
        <button class="normal" onclick="openInfo()">Proceed to checkout</button>
    </div>
    <div id="information">
        <span onclick="closeInfo()" id="close" style="background-color: red;color: black;">CLOSE</span>
        <form action="#" method="post">
            <fieldset>
                <legend style="color: red; font-weight: 800; font-size: 25px;text-align: center;">CUSTOMER INFORMATION
                </legend>
                <label for="name">Your Full Name</label>
                <input type="text" id="name1" name="name" required>

                <label for="email">Your Email:</label>
                <input type="email" id="email" name="email" required>

                <label for="phone">Your Phone Number:</label>
                <input type="tel" id="phone" name="phone" required>

                <label for="address">Your Address:</label>
                <textarea id="address" name="address"></textarea>

                <button type="button" id="thankyou" onclick="thankyou1()">Confirm</button>
            </fieldset>
        </form>


    </div>

    </section>


    <footer class="section-p1">
        <div class="col">
            <img class="logo" src="image/logo_nuoc_hoa_TN.jpg" style width="15%" alt="">
            <h4>Contact</h4>
            <p><strong>Adress: </strong>Lorem ipsum dolor sit amet consectetur.</p>
            <p><strong>Phone: </strong>Lorem ipsum dolor sit amet consectetur.</p>
            <p><strong>Hours: </strong>Lorem ipsum dolor sit amet consectetur.</p>
            <div class="follow">
                <h4>Follow us</h4>
                <div class="icon">
                    <i class="fab fa-facebook"></i>
                    <i class="fab fa-twitter"></i>
                    <i class="fab fa-instagram"></i>
                    <i class="fab fa-youtube"></i>
                    <i class="fab fa-tiktok"></i>

                </div>

            </div>
        </div>
        <div class="col">
            <h4>About</h4>
            <a href="#">About us</a>
            <a href="#">Delivery Information</a>
            <a href="#">Privacy Policy</a>
            <a href="#">Term & Conditionns</a>
            <a href="#">Contact us</a>

        </div>
        <div class="col">
            <h4>My Account</h4>
            <a href="#">Sign In</a>
            <a href="#">View Cart</a>
            <a href="#">My Wishlist</a>
            <a href="#">Track My Order</a>
            <a href="#">Help</a>

        </div>
        <div class="col install">
            <h4>Install App</h4>
            <!-- <a href="#">Download on Appstore</a> -->
            <img id="image-app" src="image/download_on_appstore.jpg" style width="350px" alt="">
            <!-- <a href="#">Download on Google Play</a> -->
            <img id="image-app" src="image/Download_on_google_play.png" style width="350px" alt="">


        </div>


    </footer>

</body>
<script src="javascript.js"></script>
<script>
    function renderPerfume() {
        let html = ''
        myCart.map(function (data, index) {
            console.log(data)
            html += `<tr>
                    <td><a onclick="removecart(${data.id})" href=""><i class="far fa-times-circle"></i></a></td>
                    <TD>
                        <a href="https://onetwo345.github.io/PerfumeShop/product.html?id=${data.idProduct}">
             <img src="${data.image}" alt="">
                </a>
                            </td>
                    <td> ${data.Name}</td>
                    <td>${data.value}</td>
                    <td>${data.quantity}</td>
                    <td id = "sprice">$${data.Price * data.value * 0.01 * data.quantity}</td>

                </tr>
    `
            return html


        });

        document.getElementById("tbodycart").innerHTML = html
    }
    renderPerfume();


    function removecart(id) {
        var confirmed = confirm("Are you sure?")
        if (!confirmed) {
            return;
        }


        myCart = myCart.filter(data => data.id != id);
        window.localStorage.setItem('myCart', JSON.stringify(myCart))
        renderPerfume();
        let totalPriceCart = 0;
        for (let i = 0; i < myCart.length; i++) {
            totalPriceCart += parseInt(myCart[i].Price * myCart[i].quantity * myCart[i].value * 0.01)
        }
        document.getElementById("totalPriceCart1").innerText = totalPriceCart + "$"

    }
    //Sự kiện tổng tiền
    let totalPriceCart = 0;
    for (let i = 0; i < myCart.length; i++) {
        totalPriceCart += parseInt(myCart[i].Price * myCart[i].quantity * myCart[i].value * 0.01)
    }
    document.getElementById("totalPriceCart1").innerText = "$" + totalPriceCart


    function thankyou1() {

        var nameInput = document.getElementById("name1");
        var emailInput = document.getElementById("email");
        var phoneInput = document.getElementById("phone");
        var addressInput = document.getElementById("address")
        console.log(nameInput)
        console.log(1)
        if (nameInput.value.trim() === "" || emailInput.value.trim() === "" || phoneInput.value.trim() === "" || addressInput.value.trim() === "") {
            alert("Please fill the form");
            return;
        }

        myCart = [];
        window.localStorage.setItem('myCart', JSON.stringify(myCart))
        renderPerfume();
        alert("THANK YOU")
        window.location.href = "shop.html"

    }
    console.log(document.getElementById("name1").value)






</script>

</html>